@model ProductEditVM
@{
    ViewData["Title"] = "Edit";
}

@section css{
    <style>
        .active-image {
            border: 2px solid green
        }
        .image-delete{
            position:relative
        }

        .image-delete button{
            position:absolute;
            left:40px;
            top:55px;
            opacity:0;
            transition:all 0.3s;
        }

            .image-delete:hover button {
                position: absolute;
                left: 40px;
                top: 55px;
                opacity: 1;
            }

            .image-delete:hover img{
                opacity:0.3;
            }
    </style>
}

<div class="container mt-5">
    
        @if (Model.Images.Count() != 0)
        {
            <div class="d-flex">
                @foreach (var item in Model.Images)
                {
                    <div class="image-delete mx-1">
                        <img src="~/img/@item.Image" class="mt-3 mb-3 @(item.IsMain ? "active-image": "")" alt="Product Image" style="width:150px;height:120px">
                    @if(!item.IsMain)
                    {
                        <button data-id="@item.Id" class="btn btn-danger btn-sm">Delete</button>
                    }
                    
                    </div>

                }
            </div>
            

        }

     

    <form class="forms-sample" method="post" asp-action="Edit" enctype="multipart/form-data">
        <div class="form-group">
            <label asp-for="Name">Name</label>
            <input type="text" asp-for="Name" class="form-control" maxlength="number">
            <span class="text-danger" asp-validation-for="Name"></span>
        </div>
        <div class="form-group">
            <label asp-for="Description">Description</label>
            <input type="text" asp-for="Description" class="form-control" maxlength="number">
            <span class="text-danger" asp-validation-for="Description"></span>
        </div>
        <div class="form-group">
            <label asp-for="Price">Price</label>
            <input type="number" asp-for="Price" step="any" class="form-control" maxlength="number">
            <span class="text-danger" asp-validation-for="Price"></span>
        </div>
        <div class="form-group">
            <label asp-for="CategoryId">Categories</label>
            <select asp-for="CategoryId" asp-items="@ViewBag.categories" class="form-control"></select>
        </div>
        <div class="form-group">
            <label asp-for="Photos">Image</label>
            <input asp-for="Photos" class="form-control">
            <span class="text-danger" asp-validation-for="Photos"></span>
        </div>

        <button type="submit" class="btn btn-primary mr-2">Submit</button>
        <a class="btn btn-light" asp-action="Index">Back</a>
    </form>
</div>

@section script{
    <script src="~/admin/js/main.js"></script>
}

